<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Javascript Syntax | Dan Cardin</title><meta name=keywords content="javascript,wat"><meta name=description content="[1,2,3,4,].length // 4
[1,2,3,4,,].length // 5

27.toString() // Uncaught SyntaxError: Invalid or unexpected token
27..toString() // '27'
"><meta name=author content="Dan Cardin"><link rel=canonical href=https://dancardin.github.io/wats/javascript-oddities/><link crossorigin=anonymous href=/assets/css/stylesheet.c7f09cbdd6e090b6a2383553f3c42c749f3ea74dc0c82908d4f9b489b5c80c56.css integrity="sha256-x/CcvdbgkLaiODVT88QsdJ8+p03AyCkI1Pm0ibXIDFY=" rel="preload stylesheet" as=style><link rel=icon href=https://dancardin.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://dancardin.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://dancardin.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://dancardin.github.io/apple-touch-icon.png><link rel=mask-icon href=https://dancardin.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Javascript Syntax"><meta property="og:description" content="[1,2,3,4,].length // 4
[1,2,3,4,,].length // 5

27.toString() // Uncaught SyntaxError: Invalid or unexpected token
27..toString() // '27'
"><meta property="og:type" content="article"><meta property="og:url" content="https://dancardin.github.io/wats/javascript-oddities/"><meta property="article:section" content="wats"><meta property="article:published_time" content="2021-08-01T09:05:32-05:00"><meta property="article:modified_time" content="2021-08-01T09:05:32-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Javascript Syntax"><meta name=twitter:description content="[1,2,3,4,].length // 4
[1,2,3,4,,].length // 5

27.toString() // Uncaught SyntaxError: Invalid or unexpected token
27..toString() // '27'
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Wats","item":"https://dancardin.github.io/wats/"},{"@type":"ListItem","position":3,"name":"Javascript Syntax","item":"https://dancardin.github.io/wats/javascript-oddities/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Javascript Syntax","name":"Javascript Syntax","description":"[1,2,3,4,].length // 4 [1,2,3,4,,].length // 5 27.toString() // Uncaught SyntaxError: Invalid or unexpected token 27..toString() // \u0026#39;27\u0026#39; ","keywords":["javascript","wat"],"articleBody":"[1,2,3,4,].length // 4 [1,2,3,4,,].length // 5 27.toString() // Uncaught SyntaxError: Invalid or unexpected token 27..toString() // '27' Wat.\nIn the former example, [1,2,3,4,,], I simply dont understand the rationale. Why is this not a syntax error!? ðŸ¤¯\nIn the latter, 27.toString() // Uncaught SyntaxError: Invalid or unexpected token. Okay fine, not all languages support using attribute lookups on literal values like integers. Take python, for example:\n\u003e\u003e\u003e 1.__str__() File \"\", line 1 1.__str__() ^ SyntaxError: invalid syntax \u003e\u003e\u003e (1).__str__() \u003e\u003e\u003e x = 1 \u003e\u003e\u003e x.__str__() # Admittedly there's not a huge amount you can call on an int, necessarily. But still! # Contrast it with something like `\"\".join`, and it starts to look weird! And thatâ€™s somewhat sad because other languages do support this kind of thing (like Rust), and i think it ends up looking a lot more natural than the alternatives you get in languages that dont support it.\nBut back to javascript 27..toString() // '27'â€¦wat again!?\nJavascript has all sorts of weird runtime semantics that people meme about. The implicit coersions, the insane equality map, etc. But things like these should literally just be syntax errors, and I dont understand why theyâ€™re not!\n","wordCount":"196","inLanguage":"en","datePublished":"2021-08-01T09:05:32-05:00","dateModified":"2021-08-01T09:05:32-05:00","author":{"@type":"Person","name":"Dan Cardin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://dancardin.github.io/wats/javascript-oddities/"},"publisher":{"@type":"Organization","name":"Dan Cardin","logo":{"@type":"ImageObject","url":"https://dancardin.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://dancardin.github.io accesskey=h title="Dan Cardin (Alt + H)">Dan Cardin</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://dancardin.github.io/projects title=Projects><span>Projects</span></a></li><li><a href=https://dancardin.github.io/wats title=Wats><span>Wats</span></a></li><li><a href=https://dancardin.github.io/tags title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://dancardin.github.io>Home</a>&nbsp;Â»&nbsp;<a href=https://dancardin.github.io/wats/>Wats</a></div><h1 class=post-title>Javascript Syntax</h1><div class=post-meta><span title='2021-08-01 09:05:32 -0500 -0500'>August 1, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Dan Cardin</div></header><div class=post-content><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,].</span><span class=nx>length</span> <span class=c1>// 4
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,,].</span><span class=nx>length</span> <span class=c1>// 5
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=mf>27.</span><span class=nx>toString</span><span class=p>()</span> <span class=c1>// Uncaught SyntaxError: Invalid or unexpected token
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=mf>27.</span><span class=p>.</span><span class=nx>toString</span><span class=p>()</span> <span class=c1>// &#39;27&#39;
</span></span></span></code></pre></div><p>Wat.</p><p>In the former example, <code>[1,2,3,4,,]</code>, I simply dont understand the rationale.
Why is this not a syntax error!? ðŸ¤¯</p><p>In the latter, <code>27.toString() // Uncaught SyntaxError: Invalid or unexpected token</code>. Okay fine,
not all languages support using attribute lookups on literal values like integers. Take python, for
example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=mf>1.</span><span class=fm>__str__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=n>File</span> <span class=s2>&#34;&lt;stdin&gt;&#34;</span><span class=p>,</span> <span class=n>line</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=mf>1.</span><span class=fm>__str__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>      <span class=o>^</span>
</span></span><span class=line><span class=cl><span class=ne>SyntaxError</span><span class=p>:</span> <span class=n>invalid</span> <span class=n>syntax</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=p>(</span><span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=fm>__str__</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>x</span> <span class=o>=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>x</span><span class=o>.</span><span class=fm>__str__</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Admittedly there&#39;s not a huge amount you can call on an int, necessarily. But still!</span>
</span></span><span class=line><span class=cl><span class=c1># Contrast it with something like `&#34;&#34;.join`, and it starts to look weird!</span>
</span></span></code></pre></div><p>And that&rsquo;s somewhat sad because other languages <strong>do</strong> support this kind of thing (like Rust),
and i think it ends up looking a lot more natural than the alternatives you get in languages
that dont support it.</p><p>But back to javascript <code>27..toString() // '27'</code>&mldr;wat again!?</p><p>Javascript has all sorts of weird <strong>runtime</strong> semantics that people meme about. The implicit
coersions, the insane equality map, etc. But things like these should literally just be
syntax errors, and I dont understand why they&rsquo;re not!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://dancardin.github.io/tags/javascript/>javascript</a></li><li><a href=https://dancardin.github.io/tags/wat/>wat</a></li></ul></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>