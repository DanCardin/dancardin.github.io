<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Projects | Dan Cardin</title>
<meta name=keywords content><meta name=description content="Projects - Dan Cardin"><meta name=author content="Dan Cardin"><link rel=canonical href=https://dancardin.github.io/projects/><link crossorigin=anonymous href=/assets/css/stylesheet.c7f09cbdd6e090b6a2383553f3c42c749f3ea74dc0c82908d4f9b489b5c80c56.css integrity="sha256-x/CcvdbgkLaiODVT88QsdJ8+p03AyCkI1Pm0ibXIDFY=" rel="preload stylesheet" as=style><link rel=icon href=https://dancardin.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://dancardin.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://dancardin.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://dancardin.github.io/apple-touch-icon.png><link rel=mask-icon href=https://dancardin.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://dancardin.github.io/projects/index.xml><link rel=alternate hreflang=en href=https://dancardin.github.io/projects/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Projects"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://dancardin.github.io/projects/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Projects"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"https://dancardin.github.io/projects/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://dancardin.github.io/ accesskey=h title="Dan Cardin (Alt + H)">Dan Cardin</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://dancardin.github.io/projects title=Projects><span class=active>Projects</span></a></li><li><a href=https://dancardin.github.io/wats title=Wats><span>Wats</span></a></li><li><a href=https://dancardin.github.io/tags title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://dancardin.github.io/>Home</a></div><h1>Projects
<a href=index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2>Cappa</h2></header><div class=entry-content><p>Cappa Full documentation here. Comparison vs existing libraries.. Annotation inference details &ldquo;invoke&rdquo; (click-like) details Cappa is a declarative command line parsing library, taking much of its inspiration from the &ldquo;Derive&rdquo; API from the Clap written in Rust.
from dataclasses import dataclass, field import cappa from typing import Literal from typing_extensions import Annotated @dataclass class Example: positional_arg: str = "optional" boolean_flag: bool = False single_option: Annotated[int | None, cappa.Arg(short=True, help="A number")] = None multiple_option: Annotated[ list[Literal["one", "two", "three"]], cappa....</p></div><footer class=entry-footer>&lt;span title='2023-09-23 00:00:00 +0000 UTC'>September 23, 2023&lt;/span>&amp;nbsp;·&amp;nbsp;3 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to Cappa" href=https://dancardin.github.io/projects/cappa/></a></article><article class=post-entry><header class=entry-header><h2>SQLAlchemy Declarative Extensions</h2></header><div class=entry-content><p>A python library for adding extensions to SqlAlchemy (and/or Alembic) which allows declaratively stating the existence of additional kinds of objects about your database not natively supported by SqlAlchemy/Alembic.
@declarative_database @as_declarative class Base: schemas = Schemas().are("example") roles = Roles(ignore_unspecified=True).are( Role("read", login=False), Role( "app", in_roles=['read'] ), ) grants = Grants().are( DefaultGrant.on_tables_in_schema("public", 'example').grant("select", to="read"), DefaultGrant.on_tables_in_schema("public").grant("insert", "update", "delete", to="write"), DefaultGrant.on_sequences_in_schema("public").grant("usage", to="write"), ) rows = Rows().are( Row('foo', id=1), ) views = Views().are(View("low_foo", "select * from foo where i &lt; 10")) class Foo(Base): __tablename__ = 'foo' id = Column(types....</p></div><footer class=entry-footer>&lt;span title='2022-12-01 00:00:00 +0000 UTC'>December 1, 2022&lt;/span>&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to SQLAlchemy Declarative Extensions" href=https://dancardin.github.io/projects/sqlalchemy-declarative-extensions/></a></article><article class=post-entry><header class=entry-header><h2>Pytest Alembic</h2></header><div class=entry-content><p>A Pytest plugin to test alembic migrations (with default tests) and which enables you to write tests specific to your migrations.
$ pip install pytest-alembic $ pytest --test-alembic ... ::pytest_alembic/tests/model_definitions_match_ddl &lt;- . PASSED [ 25%] ::pytest_alembic/tests/single_head_revision &lt;- . PASSED [ 50%] ::pytest_alembic/tests/up_down_consistency &lt;- . PASSED [ 75%] ::pytest_alembic/tests/upgrade &lt;- . PASSED [100%] ============================== 4 passed in 2.32s ===============================</p></div><footer class=entry-footer>&lt;span title='2020-02-29 00:00:00 +0000 UTC'>February 29, 2020&lt;/span>&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to Pytest Alembic" href=https://dancardin.github.io/projects/pytest-alembic/></a></article><article class=post-entry><header class=entry-header><h2>Chapter Sync</h2></header><div class=entry-content><p>A tool for recording serialized web content, in partial web-serial type novels, or other serialized content for which you want to be sent updates as they&rsquo;re published.
The other tools in the space (at least that I&rsquo;m aware of: Leech, FanFicFare) are mostly designed around manual one-off usage of the tool to capture the current state of a story/series and turn it into an ebook.
chapter-sync, by contrast, records everything it captures to a sqlite database and will only collect new/missing chapters....</p></div><footer class=entry-footer>&lt;span title='2024-02-27 00:00:00 +0000 UTC'>February 27, 2024&lt;/span>&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to Chapter Sync" href=https://dancardin.github.io/projects/chapter-sync/></a></article><article class=post-entry><header class=entry-header><h2>Dataclass Settings</h2></header><div class=entry-content><p>A declarative settings library
dataclass-settings intends to work with any PEP-681-compliant dataclass-like object, including but not limited to:
Pydantic models (v2+) dataclasses attrs classes from __future__ import annotations from dataclass_settings import load_settings, Env, Secret from pydantic import BaseModel class Example(BaseModel): env: Annotated[str, Env("ENVIRONMENT")] = "local" dsn: Annotated[str, Env("DSN"), Secret('dsn')] = "dsn://" sub_config: SubConfig class SubConfig(BaseModel): nested: Annotated[int, Env("NESTED")] = "4" example: Example = load_settings(Example) # or, if you want `nested` to be `SUB_CONFIG_NESTED` example: Example = load_settings(Example, nested_delimiter='_')</p></div><footer class=entry-footer>&lt;span title='2023-10-29 00:00:00 +0000 UTC'>October 29, 2023&lt;/span>&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to Dataclass Settings" href=https://dancardin.github.io/projects/dataclass-settings/></a></article><article class=post-entry><header class=entry-header><h2>Pytest Mock Resources</h2></header><div class=entry-content><p>A python library which produces pytest fixtures which let you test against external resource (Postgres, Mongo, Redshift&mldr;) dependent code, by orchestrating running real instances of those services.
from pytest_mock_resources import create_postgres_fixture from models import ModelBase pg = create_postgres_fixture(ModelBase, session=True) def test_view_function_empty_db(pg): response = view_function(pg) assert response == ...</p></div><footer class=entry-footer>&lt;span title='2019-01-09 00:00:00 +0000 UTC'>January 9, 2019&lt;/span>&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to Pytest Mock Resources" href=https://dancardin.github.io/projects/pytest-mock-resources/></a></article><article class=post-entry><header class=entry-header><h2>Sauce</h2></header><div class=entry-content><p>A tool to help manage context/project specific shell-things like environment variables.
# Suppose you've got some directory structure ❯ mkdir -p projects/foo ❯ cd projects # In "projects", you want some shorthand for quickly pushing your branches ❯ sauce new Created /Users/danc/.local/share/sauce/projects.toml ❯ sauce set alias push='git push origin "$(git rev-parse --abbrev-ref HEAD)"' Setting push = git push origin "$(git rev-parse --abbrev-ref HEAD)" # Your project is, naturally, using 12-factor methodology, so you've got some # project specific environment variables you need to load!...</p></div><footer class=entry-footer>&lt;span title='2021-01-23 00:00:00 +0000 UTC'>January 23, 2021&lt;/span>&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to Sauce" href=https://dancardin.github.io/projects/sauce/></a></article><article class=post-entry><header class=entry-header><h2>Databudgie</h2></header><div class=entry-content><p>Databudgie is a CLI & library for database performing targeted backup and restore of database tables or arbitrary queries against database tables.
Some minimal config might look like:
# config.databudgie.yml backup: url: postgresql://postgres:postgres@localhost:5432/postgres restore: url: postgresql://postgres:postgres@localhost:5432/postgres tables: - some_schema.* - author - book - name: chapter query: "select * from {table} where book_id > 4" - name: some_table follow_foreign_keys: true Think pg_dump, but more flexible and easy to produce backups for a targeted set of tables/data, and restore them....</p></div><footer class=entry-footer>&lt;span title='2019-10-10 00:00:00 +0000 UTC'>October 10, 2019&lt;/span>&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to Databudgie" href=https://dancardin.github.io/projects/databudgie/></a></article><article class=post-entry><header class=entry-header><h2>SQLAlchemy Model Factory</h2></header><div class=entry-content><p>A python library which makes it easy to write factory functions for sqlalchemy models, particularly for use in testing.
The most obvious comparison is against the much more popular python library, FactoryBoy. By comparison, SQLAlchemy Model Factory removes a lot of the magic and machinery introduced by factory boy.
One essentially writes regular functions, (which are directly callable as functions!), which when called through the &ldquo;ModelFactory&rdquo; (mf by default) fixture, automatically produces those objects in the database, similarly to FactoryBoy....</p></div><footer class=entry-footer>1 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to SQLAlchemy Model Factory" href=https://dancardin.github.io/projects/sqlalchemy-model-factory/></a></article><article class=post-entry><header class=entry-header><h2>Configly</h2></header><div class=entry-content><p>A python library to simplify and centralize the loading of configuration, such as environment variables.
# config.yml foo: bar: &lt;% ENV[REQUIRED] %> baz: &lt;% ENV[OPTIONAL, true] %> list_of_stuff: - fun&lt;% ENV[NICE, dament] %>al - fun&lt;% ENV[AGH, er] %>al # app.py config = Config.from_yaml('config.yml') print(config.foo.bar) print(config.foo['baz']) for item in config.list_of_stuff: print(item)</p></div><footer class=entry-footer>&lt;span title='2019-09-23 00:00:00 +0000 UTC'>September 23, 2019&lt;/span>&amp;nbsp;·&amp;nbsp;1 min&amp;nbsp;·&amp;nbsp;Dan Cardin</footer><a class=entry-link aria-label="post link to Configly" href=https://dancardin.github.io/projects/configly/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://dancardin.github.io/projects/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>